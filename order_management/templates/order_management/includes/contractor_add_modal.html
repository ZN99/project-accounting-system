<!-- 新規業者追加モーダル -->
<div class="modal fade" id="addContractorModal" tabindex="-1" aria-labelledby="addContractorModalLabel" aria-hidden="true" style="z-index: 10000 !important;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addContractorModalLabel">
                    <i class="fas fa-building"></i> 新規業者追加
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="addContractorForm">
                    <div class="mb-3">
                        <label for="contractorName" class="form-label">業者名 <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="contractorName" name="name" required placeholder="例: ○○建設株式会社">
                    </div>
                    <div class="mb-3">
                        <label for="contractorType" class="form-label">業者種別 <span class="text-danger">*</span></label>
                        <select class="form-select" id="contractorType" name="contractor_type" required onchange="toggleHourlyRateField()">
                            <option value="">-- 業者種別を選択 --</option>
                            <option value="company">協力会社</option>
                            <option value="individual">個人職人</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="contractorAddress" class="form-label">住所</label>
                        <input type="text" class="form-control" id="contractorAddress" name="address" placeholder="例: 東京都渋谷区...">
                    </div>
                    <div class="mb-3">
                        <label for="contractorPhone" class="form-label">電話番号</label>
                        <input type="tel" class="form-control" id="contractorPhone" name="phone" placeholder="例: 03-1234-5678">
                    </div>
                    <div class="mb-3">
                        <label for="contractorEmail" class="form-label">メールアドレス</label>
                        <input type="email" class="form-control" id="contractorEmail" name="email" placeholder="例: info@example.com">
                    </div>
                    <div class="mb-3">
                        <label for="contractorContactPerson" class="form-label">担当者名</label>
                        <input type="text" class="form-control" id="contractorContactPerson" name="contact_person" placeholder="例: 山田 太郎">
                    </div>
                    <div class="mb-3" id="hourlyRateField" style="display: none;">
                        <label for="contractorHourlyRate" class="form-label">時給単価（円）</label>
                        <input type="number" class="form-control" id="contractorHourlyRate" name="hourly_rate" placeholder="3000" min="0" step="100">
                        <small class="form-text text-muted">任意: コスト計算用</small>
                    </div>
                    <div class="mb-3">
                        <label for="contractorSpecialties" class="form-label">専門分野</label>
                        <input type="text" class="form-control" id="contractorSpecialties" name="specialties" placeholder="例: 建築工事、内装工事">
                        <small class="form-text text-muted">任意: カンマ区切りで複数入力可</small>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">キャンセル</button>
                <button type="button" class="btn btn-primary" onclick="submitNewContractor()">
                    <i class="fas fa-save"></i> 追加
                </button>
            </div>
        </div>
    </div>
</div>
